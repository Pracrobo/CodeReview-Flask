"""
AI í”„ë¡¬í”„íŠ¸ ê´€ë¦¬ ëª¨ë“ˆ

ì´ ëª¨ë“ˆì€ Flask ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“  AI í”„ë¡¬í”„íŠ¸ë¥¼ ì¤‘ì•™ì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤.
í”„ë¡¬í”„íŠ¸ ìˆ˜ì •ì´ë‚˜ ì¶”ê°€ê°€ í•„ìš”í•  ë•Œ ì´ íŒŒì¼ë§Œ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤.
"""

from typing import Dict, Any


class PromptTemplates:
    """AI í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ê´€ë¦¬ í´ë˜ìŠ¤"""

    # ===== ë²ˆì—­ ê´€ë ¨ í”„ë¡¬í”„íŠ¸ =====

    @staticmethod
    def get_code_query_translation_prompt(korean_text: str) -> str:
        """ì½”ë“œ ê´€ë ¨ í•œêµ­ì–´ ì§ˆì˜ë¥¼ ì˜ì–´ë¡œ ë²ˆì—­í•˜ëŠ” í”„ë¡¬í”„íŠ¸"""
        return f"""
## ì—­í• 
ë‹¹ì‹ ì€ CodeReviewì˜ ì „ë¬¸ ë²ˆì—­ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. í”„ë¡œê·¸ë˜ë° ê´€ë ¨ í•œêµ­ì–´ ì§ˆë¬¸ì„ ì •í™•í•˜ê³  ìì—°ìŠ¤ëŸ¬ìš´ ì˜ì–´ë¡œ ë²ˆì—­í•˜ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ì£¼ìš” ì„ë¬´ì…ë‹ˆë‹¤.

## ì§€ì‹œì‚¬í•­
1.  **[ì‹ë³„]**: í•œêµ­ì–´ í…ìŠ¤íŠ¸ì—ì„œ í”„ë¡œê·¸ë˜ë°ê³¼ ê´€ë ¨ëœ ëª¨ë“  ê³ ìœ  ìš”ì†Œë¥¼ ì°¾ìœ¼ì„¸ìš”. ì—¬ê¸°ì—ëŠ” ë³€ìˆ˜ëª…, í•¨ìˆ˜ëª…, í´ë˜ìŠ¤ëª…, ë¼ì´ë¸ŒëŸ¬ë¦¬ëª…, ì½”ë“œ ìŠ¤ë‹ˆí« ë“±ì´ í¬í•¨ë©ë‹ˆë‹¤.
2.  **[ìœ ì§€]**: ì‹ë³„ëœ í”„ë¡œê·¸ë˜ë° ê³ ìœ  ìš”ì†Œë“¤ì€ ë²ˆì—­í•˜ì§€ ë§ê³ , ì›ë¬¸ ê·¸ëŒ€ë¡œ ì •í™•íˆ ìœ ì§€í•˜ì„¸ìš”.
3.  **[ë²ˆì—­]**: í”„ë¡œê·¸ë˜ë° ìš”ì†Œë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ìì—°ì–´ í•œêµ­ì–´ ë¬¸ì¥ì„ ëª…í™•í•˜ê³  ìì—°ìŠ¤ëŸ¬ìš´ ì˜ì–´ë¡œ ë²ˆì—­í•˜ì„¸ìš”.
4.  **[í˜•ì‹]**: ìµœì¢…ì ìœ¼ë¡œ ë²ˆì—­ëœ ì˜ì–´ í…ìŠ¤íŠ¸ë§Œ ì¶œë ¥í•˜ì„¸ìš”. ë‹¤ë¥¸ ì–´ë–¤ ì„¤ëª…ì´ë‚˜ ì‚¬ê³¼, ì›ë³¸ í•œêµ­ì–´ í…ìŠ¤íŠ¸ë„ í¬í•¨í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.

## ë‹µë³€ êµ¬ì¡°
í•œêµ­ì–´ ì§ˆë¬¸: 'ë°ì´í„°í”„ë ˆì„ `df`ì—ì„œ 'price' ì»¬ëŸ¼ì˜ ê°’ì´ 1000 ì´ìƒì¸ í–‰ë“¤ë§Œ ì„ íƒí•´ì„œ `high_price_df`ë¼ëŠ” ìƒˆ ë³€ìˆ˜ì— ì €ì¥í•˜ëŠ” íŒŒì´ì¬ ì½”ë“œëŠ” ì–´ë–»ê²Œ ì‘ì„±í•˜ë‚˜ìš”?'
ì˜ì–´ ì§ˆë¬¸: 'How do I write Python code to select rows from the DataFrame `df` where the 'price' column is greater than or equal to 1000 and save them to a new variable called `high_price_df`?'

---

ì•„ë˜ í•œêµ­ì–´ ì§ˆë¬¸ì„ ì˜ì–´ë¡œ ë²ˆì—­í•˜ì„¸ìš”.

í•œêµ­ì–´ ì§ˆë¬¸: {korean_text}

ì˜ì–´ ì§ˆë¬¸:
"""

    # ===== RAG (ê²€ìƒ‰ ì¦ê°• ìƒì„±) ê´€ë ¨ í”„ë¡¬í”„íŠ¸ =====

    @staticmethod
    def get_code_rag_prompt(context: str, question: str) -> str:
        """ì½”ë“œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ RAG í”„ë¡¬í”„íŠ¸"""
        return f"""
## ì—­í• 
ë‹¹ì‹ ì€ CodeReviewì˜ ì½”ë“œ ë¶„ì„ ë° ê¸°ìˆ  ì§€ì› AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ë³µì¡í•œ ì½”ë“œë„ ì‰½ê²Œ ì„¤ëª…í•˜ëŠ” ì „ë¬¸ê°€ë¡œì„œ, ì£¼ì–´ì§„ 'ì½”ë“œ ì»¨í…ìŠ¤íŠ¸'ë§Œì„ í™œìš©í•˜ì—¬ ì§ˆë¬¸ì— ëª…í™•í•˜ê³  ì¹œì ˆí•˜ê²Œ ë‹µë³€í•˜ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ì„ë¬´ì…ë‹ˆë‹¤.

## ì§€ì‹œì‚¬í•­
1.  **[ë¶„ì„]** ë¨¼ì €, 'ì½”ë“œ ì»¨í…ìŠ¤íŠ¸'ê°€ 'ì§ˆë¬¸'ì— ë‹µë³€í•˜ê¸°ì— ì¶©ë¶„í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆëŠ”ì§€ íŒë‹¨í•˜ì„¸ìš”.
2.  **[ë‹µë³€ ìƒì„±]** ë¶„ì„ ê²°ê³¼, ê´€ë ¨ ì •ë³´ê°€ ìˆë‹¤ë©´ 'ì½”ë“œ ì»¨í…ìŠ¤íŠ¸'ì˜ ë‚´ìš©ì—ë§Œ ê·¼ê±°í•˜ì—¬ ì•„ë˜ì˜ 'ë‹µë³€ êµ¬ì¡°'ì— ë”°ë¼ ë‹µë³€ì„ ìƒì„±í•˜ì„¸ìš”.
    - **ì¤‘ìš”**: ì ˆëŒ€ ì»¨í…ìŠ¤íŠ¸ì— ì—†ëŠ” ì •ë³´ë¥¼ ì¶”ì¸¡í•˜ê±°ë‚˜ ì§€ì–´ë‚´ì§€ ë§ˆì„¸ìš”. ë‹µë³€ì€ 100% ì œê³µëœ ì»¨í…ìŠ¤íŠ¸ì— ê¸°ë°˜í•´ì•¼ í•©ë‹ˆë‹¤.
3.  **[ì˜ˆì™¸ ì²˜ë¦¬]** ë¶„ì„ ê²°ê³¼, ê´€ë ¨ ì •ë³´ê°€ ì „í˜€ ì—†ë‹¤ë©´ ë‹¤ë¥¸ ì„¤ëª… ì—†ì´ "ì œê³µëœ ì»¨í…ìŠ¤íŠ¸ì— ì§ˆë¬¸ê³¼ ê´€ë ¨ëœ ì½”ë“œê°€ ì—†ìŠµë‹ˆë‹¤."ë¼ê³ ë§Œ ì¶œë ¥í•˜ì„¸ìš”.

## ë‹µë³€ êµ¬ì¡°
**1. í•µì‹¬ ì„¤ëª…:**
ì§ˆë¬¸ì— ëŒ€í•œ í•µì‹¬ì ì¸ ë‹µë³€ì„ í•œë‘ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ì—¬ ì„¤ëª…í•©ë‹ˆë‹¤.

**2. ì½”ë“œ ì˜ˆì‹œ:**
ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì§ˆë¬¸ê³¼ ê°€ì¥ ê´€ë ¨ ìˆëŠ” ì½”ë“œ ìŠ¤ë‹ˆí«ì„ Markdown ì½”ë“œ ë¸”ë¡ìœ¼ë¡œ ì œì‹œí•©ë‹ˆë‹¤.

**3. ìƒì„¸ ì„¤ëª…:**
ì½”ë“œì˜ ê° ë¶€ë¶„(í•¨ìˆ˜, í´ë˜ìŠ¤, ì£¼ìš” ë¡œì§, ë§¤ê°œë³€ìˆ˜ ë“±)ì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€, ê·¸ë¦¬ê³  ì–´ë–¤ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”ì§€ ì¡°ëª©ì¡°ëª© ìƒì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## ì½”ë“œ ì»¨í…ìŠ¤íŠ¸
{context}

## ì§ˆë¬¸
{question}

## ë‹µë³€
"""

    # ===== README ìš”ì•½ ê´€ë ¨ í”„ë¡¬í”„íŠ¸ =====

    @staticmethod
    def get_readme_summary_prompt(repo_name: str, readme_content: str) -> str:
        """README ë‚´ìš©ì„ êµ¬ì¡°ì ìœ¼ë¡œ ìš”ì•½í•˜ëŠ” ê°œì„ ëœ í”„ë¡¬í”„íŠ¸"""
        return f"""
## ì—­í• 
ë‹¹ì‹ ì€ CodeReviewì˜ í”„ë¡œì íŠ¸ ë¶„ì„ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ê°œë°œìë“¤ì´ í”„ë¡œì íŠ¸ë¥¼ ë¹ ë¥´ê³  ì •í™•í•˜ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ GitHub README ë¬¸ì„œë¥¼ ë¶„ì„í•˜ê³  í•µì‹¬ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ì—¬ ìš”ì•½í•˜ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ì „ë¬¸ ë¶„ì•¼ì…ë‹ˆë‹¤.

## ì‘ì—… ì ˆì°¨
1.  **[ì „ì²´ ìŠ¤ìº”]** ì•„ë˜ì— ì œê³µë  '{repo_name}' ì €ì¥ì†Œì˜ README ë¬¸ì„œ ì „ì²´ë¥¼ ì½ê³  í”„ë¡œì íŠ¸ì˜ ì „ë°˜ì ì¸ ë‚´ìš©ì„ íŒŒì•…í•©ë‹ˆë‹¤.
2.  **[ì •ë³´ ì¶”ì¶œ]** 'ìš”ì•½ êµ¬ì¡°'ì— ëª…ì‹œëœ ê° í•­ëª©(í”„ë¡œì íŠ¸ ê°œìš”, ì£¼ìš” ê¸°ëŠ¥, ê¸°ìˆ  ìŠ¤íƒ, ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•)ì— í•´ë‹¹í•˜ëŠ” í•µì‹¬ ì •ë³´ë¥¼ ë¬¸ì„œì—ì„œ ì°¾ì•„ëƒ…ë‹ˆë‹¤.
3.  **[êµ¬ì¡°í™” ìš”ì•½]** ì¶”ì¶œí•œ ì •ë³´ë¥¼ ì•„ë˜ 'ìš”ì•½ êµ¬ì¡°'ì— ë§ì¶° ê°€ë…ì„± ì¢‹ì€ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤. ê° í•­ëª©ì˜ ë‚´ìš©ì€ ëª…ë£Œí•˜ê³  ê°„ê²°í•˜ê²Œ ì‘ì„±í•©ë‹ˆë‹¤.
4.  **[ì˜ˆì™¸ ì²˜ë¦¬]** ë§Œì•½ íŠ¹ì • í•­ëª©(ì˜ˆ: ê¸°ìˆ  ìŠ¤íƒ)ì— ëŒ€í•œ ì •ë³´ê°€ READMEì— ëª…í™•íˆ ì—†ë‹¤ë©´, í•´ë‹¹ í•­ëª©ì— "ì •ë³´ ì—†ìŒ"ì´ë¼ê³  í‘œê¸°í•©ë‹ˆë‹¤.

## ìš”ì•½ êµ¬ì¡°
### ğŸ“ í”„ë¡œì íŠ¸ ê°œìš”
(ì´ í”„ë¡œì íŠ¸ê°€ ë¬´ì—‡ì¸ì§€, ì–´ë–¤ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ”ì§€ 2~3ì¤„ë¡œ ì„¤ëª…)

### âœ¨ ì£¼ìš” ê¸°ëŠ¥
(í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ê¸°ëŠ¥ë“¤ì„ ë¶ˆë › í¬ì¸íŠ¸(bullet point)ë¡œ ë‚˜ì—´)
- 
- 
- 

### ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ
(ì‚¬ìš©ëœ ì£¼ìš” í”„ë¡œê·¸ë˜ë° ì–¸ì–´, í”„ë ˆì„ì›Œí¬, ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“±ì„ ê°„ëµíˆ ê¸°ì¬)

### ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•
(í”„ë¡œì íŠ¸ë¥¼ ë¡œì»¬ í™˜ê²½ì— ì„¤ì¹˜í•˜ê³  ì‹¤í–‰í•˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ë‹¨ê³„ë¥¼ ì„¤ëª…. ë³µì¡í•œ ê²½ìš° í•µì‹¬ ëª…ë ¹ì–´ ìœ„ì£¼ë¡œ ìš”ì•½)

## ì œì•½ ì¡°ê±´
- ì „ì²´ ìš”ì•½ì€ ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.
- ì „ì²´ ìš”ì•½ì€ 4000ì ë¯¸ë§Œì´ì–´ì•¼ í•©ë‹ˆë‹¤.

---

## README ë‚´ìš©
{readme_content}

## '{repo_name}' í”„ë¡œì íŠ¸ ìš”ì•½:
"""

    # ===== ì´ìŠˆ ê´€ë ¨ í”„ë¡¬í”„íŠ¸ =====

    @staticmethod
    def get_issue_to_query_prompt(issue_title: str, issue_body: str) -> str:
        """ì´ìŠˆ ë‚´ìš©ì„ ê²€ìƒ‰ìš© ì§ˆë¬¸ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê°œì„ ëœ í”„ë¡¬í”„íŠ¸"""
        return f"""
## ì—­í• 
ë‹¹ì‹ ì€ CodeReviewì˜ ì´ìŠˆ ë¶„ì„ ë° ë””ë²„ê¹… ì „ë¬¸ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. GitHub ì´ìŠˆë§Œ ë³´ê³ ë„ ë¬¸ì œì˜ ì›ì¸ì´ ë˜ëŠ” ì½”ë“œë¥¼ ì •í™•íˆ ì°¾ì•„ë‚´ëŠ” ì „ë¬¸ê°€ë¡œì„œ, ì£¼ì–´ì§„ ì´ìŠˆ ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ ë¬¸ì œ í•´ê²°ì— ê°€ì¥ ì í•©í•œ ì½”ë“œë¥¼ ì°¾ì„ ìˆ˜ ìˆëŠ” ê°„ê²°í•˜ê³  ì •ë°€í•œ ì˜ì–´ ê²€ìƒ‰ ì§ˆë¬¸(ì¿¼ë¦¬)ì„ ë§Œë“œëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ì„ë¬´ì…ë‹ˆë‹¤.

## ì‘ì—… ì ˆì°¨
1.  **[í•µì‹¬ ì •ë³´ ì¶”ì¶œ]** ì´ìŠˆì˜ 'ì œëª©'ê³¼ 'ë‚´ìš©'ì—ì„œ ë‹¤ìŒ ì •ë³´ë“¤ì„ ìš°ì„ ì ìœ¼ë¡œ ì¶”ì¶œí•©ë‹ˆë‹¤.
    - **ì—ëŸ¬ ë©”ì‹œì§€ (Error Messages)**: `NullPointerException`, `TypeError`, `Connection Timeout` ë“±
    - **ì½”ë“œ ìš”ì†Œ (Code Elements)**: ì–¸ê¸‰ëœ í•¨ìˆ˜, í´ë˜ìŠ¤, ë³€ìˆ˜, ë¼ì´ë¸ŒëŸ¬ë¦¬, í”„ë ˆì„ì›Œí¬ ì´ë¦„
    - **ë¬¸ì œ ìƒí™© (Problem Context)**: ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” êµ¬ì²´ì ì¸ ë™ì‘ì´ë‚˜ ì¡°ê±´ (ì˜ˆ: 'ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ', 'íŒŒì¼ ì—…ë¡œë“œ ì¤‘')

2.  **[ê²€ìƒ‰ ì˜ë„ íŒŒì•…]** ì¶”ì¶œëœ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ, "ì–´ë–¤ íŒŒì¼ì˜ ì–´ë–¤ ë¶€ë¶„ì—ì„œ, ì–´ë–¤ ì¡°ê±´ì¼ ë•Œ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ê°€?"ì— ëŒ€í•œ ë‹µì„ ì°¾ê¸° ìœ„í•œ ê²€ìƒ‰ ì˜ë„ë¥¼ ëª…í™•íˆ í•©ë‹ˆë‹¤.

3.  **[ê²€ìƒ‰ ì¿¼ë¦¬ ìƒì„±]** ê²€ìƒ‰ ì˜ë„ì— ë§ì¶°, ê°€ì¥ í•µì‹¬ì ì¸ ê¸°ìˆ  í‚¤ì›Œë“œë“¤ì„ ì¡°í•©í•˜ì—¬ ê°„ê²°í•˜ê³  êµ¬ì²´ì ì¸ **ì˜ì–´ ê²€ìƒ‰ ì§ˆë¬¸**ì„ ìƒì„±í•©ë‹ˆë‹¤. ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ë³´ë‹¤ëŠ” ê²€ìƒ‰ íš¨ìœ¨ì„±ì— ì§‘ì¤‘í•˜ì„¸ìš”.

## ì˜ˆì‹œ
### ì…ë ¥:
- **ì´ìŠˆ ì œëª©**: ì•±ì´ ê°‘ìê¸° êº¼ì ¸ìš”
- **ì´ìŠˆ ë‚´ìš©**: ë¡œê·¸ì¸í•˜ê³  ë‚˜ì„œ ë©”ì¸ í™”ë©´ìœ¼ë¡œ ë„˜ì–´ê°ˆ ë•Œ ì•±ì´ ì£½ìŠµë‹ˆë‹¤. ë¡œê·¸ë¥¼ ë³´ë‹ˆ `Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.example.user.User.getName()' on a null object reference at com.example.ui.MainActivity.java:85` ë¼ê³  ë‚˜ì˜µë‹ˆë‹¤.

### ì¶œë ¥:
`fix NullPointerException MainActivity.java:85 User.getName()`

---

## ë¶„ì„í•  GitHub ì´ìŠˆ
### ì´ìŠˆ ì œëª©: {issue_title}

### ì´ìŠˆ ë‚´ìš©:
{issue_body}

## ê²€ìƒ‰ ì§ˆë¬¸ (ì˜ì–´):
"""

    @staticmethod
    def get_ai_solution_suggestion_prompt(
        issue_title: str, issue_body: str, related_files: list, code_snippets: list
    ) -> str:
        """AI í•´ê²° ì œì•ˆì„ ìƒì„±í•˜ëŠ” ê°œì„ ëœ í”„ë¡¬í”„íŠ¸"""
        files_info = "\n".join(
            [
                f"- {file['path']} (ê´€ë ¨ë„: {file['relevance']}%)"
                for file in related_files
            ]
        )

        snippets_info = "\n\n".join(
            [
                f"íŒŒì¼ ê²½ë¡œ: {snippet['file']}\nê´€ë ¨ë„: {snippet['relevance']}%\nì½”ë“œ:\n```\n{snippet['code']}\n```\nì„¤ëª…: {snippet.get('explanation','')}"
                for snippet in code_snippets
            ]
        )

        return f"""
## ì—­í• 
ë‹¹ì‹ ì€ AIissueì˜ ê³ ê¸‰ ì†”ë£¨ì…˜ ì œì•ˆ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ë³µì¡í•œ ì‹œìŠ¤í…œì˜ ë²„ê·¸ë¥¼ ë¶„ì„í•˜ê³  ìµœì ì˜ í•´ê²°ì±…ì„ ì œì‹œí•˜ëŠ” ì „ë¬¸ê°€ë¡œì„œ, ì£¼ì–´ì§„ ëª¨ë“  ì •ë³´ë¥¼ ì¢…í•©í•˜ì—¬ ê°œë°œìê°€ ì¦‰ì‹œ ê²€í† í•˜ê³  ì ìš©í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ì˜ êµ¬ì²´ì ì´ê³  ì•ˆì •ì ì¸ í•´ê²° ì œì•ˆì„ ì‘ì„±í•˜ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ì„ë¬´ì…ë‹ˆë‹¤.

## ì‘ì—… ì ˆì°¨
1.  **[ì •ë³´ ì¢…í•© ë¶„ì„]** 'ì´ìŠˆ ë‚´ìš©', 'ê´€ë ¨ íŒŒì¼', 'ì½”ë“œ ìŠ¤ë‹ˆí«'ì„ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤. íŠ¹íˆ **ê´€ë ¨ë„(relevance)ê°€ ë†’ì€ íŒŒì¼ê³¼ ì½”ë“œì— ì§‘ì¤‘**í•˜ì—¬ ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì„ ì •í™•íˆ ì§„ë‹¨í•©ë‹ˆë‹¤.
2.  **[ì†”ë£¨ì…˜ ì„¤ê³„]** íŒŒì•…ëœ ì›ì¸ì„ ë°”íƒ•ìœ¼ë¡œ, ê°€ì¥ íš¨ìœ¨ì ì´ê³  ì•ˆì •ì ì¸ í•´ê²°ì±…ì„ ì„¤ê³„í•©ë‹ˆë‹¤. ì´ ê³¼ì •ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì ì¬ì ì¸ ë¶€ì‘ìš©(side effect)ê¹Œì§€ ì‹ ì¤‘í•˜ê²Œ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.
3.  **[ì½”ë“œ ìˆ˜ì •ì•ˆ ì‘ì„±]** ì„¤ê³„ëœ í•´ê²°ì±…ì„ ì‹¤ì œ ì½”ë“œë¡œ êµ¬í˜„í•©ë‹ˆë‹¤. ìˆ˜ì • ì „/í›„ë¥¼ ëª…í™•íˆ ë¹„êµí•  ìˆ˜ ìˆë„ë¡ **ë°˜ë“œì‹œ 'diff' í˜•ì‹**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
4.  **[ìµœì¢… ì œì•ˆì„œ ì‘ì„±]** ìœ„ì˜ ëª¨ë“  ë¶„ì„ê³¼ ì„¤ê³„ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ, ì•„ë˜ 'í•´ê²° ì œì•ˆ êµ¬ì¡°'ì— ë”°ë¼ ëª…í™•í•˜ê³  ì²´ê³„ì ì¸ ì œì•ˆì„œë¥¼ í•œêµ­ì–´ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.

## í•´ê²° ì œì•ˆ êµ¬ì¡°
### 1. ë¬¸ì œ ì›ì¸ ë¶„ì„
(ì§„ë‹¨í•œ ë¬¸ì œì˜ í•µì‹¬ ì›ì¸ì„ ê¸°ìˆ ì ìœ¼ë¡œ ëª…í™•í•˜ê²Œ ì„¤ëª…í•©ë‹ˆë‹¤.)

### 2. í•´ê²° ë°©ë²• ì œì•ˆ
(ì–´ë–¤ ì›ë¦¬ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•  ê²ƒì¸ì§€, ì†”ë£¨ì…˜ì˜ ì „ì²´ì ì¸ ì ‘ê·¼ ë°©ì‹ì„ ì„¤ëª…í•©ë‹ˆë‹¤.)

### 3. ì½”ë“œ ìˆ˜ì • ì œì•ˆ (Diff í˜•ì‹)
(ìˆ˜ì •ì´ í•„ìš”í•œ íŒŒì¼ ê²½ë¡œë¥¼ ëª…ì‹œí•˜ê³ , ë³€ê²½ ì „/í›„ ì½”ë“œë¥¼ 'diff' ë§ˆí¬ë‹¤ìš´ ë¸”ë¡ìœ¼ë¡œ ëª…í™•í•˜ê²Œ ë³´ì—¬ì¤ë‹ˆë‹¤. ì˜ˆ: ```diff ... ```)

### 4. ê²€í†  ë° ì£¼ì˜ì‚¬í•­
(ì œì•ˆëœ ìˆ˜ì •ì„ ì ìš©í•˜ê¸° ì „/í›„ì— í™•ì¸í•´ì•¼ í•  ì‚¬í•­, ì˜ˆìƒë˜ëŠ” ë¶€ì‘ìš©, ë˜ëŠ” ì¶”ê°€ì ì¸ ê°œì„  ì•„ì´ë””ì–´ë¥¼ ì œì•ˆí•©ë‹ˆë‹¤.)

---

## ì œê³µëœ ì •ë³´
### ì´ìŠˆ ì œëª©: {issue_title}

### ì´ìŠˆ ë‚´ìš©:
{issue_body}

### ê´€ë ¨ íŒŒì¼ ëª©ë¡:
{files_info}

### ê´€ë ¨ ì½”ë“œ ìŠ¤ë‹ˆí«:
{snippets_info}

---

## í•´ê²° ì œì•ˆ:
"""

    @staticmethod
    def get_issue_summary_prompt(issue_title: str, issue_body: str) -> str:
        """ì´ìŠˆ ë‚´ìš©ì„ êµ¬ì¡°ì ìœ¼ë¡œ ìš”ì•½í•˜ëŠ” ê°œì„ ëœ í”„ë¡¬í”„íŠ¸"""
        return f"""
## ì—­í• 
ë‹¹ì‹ ì€ CodeReviewì˜ ì´ìŠˆ ìš”ì•½ ì „ë¬¸ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ë§¤ì¼ ìˆ˜ì‹­ ê°œì˜ ê¸°ìˆ  ì´ìŠˆë¥¼ ë¹ ë¥´ê³  ì •í™•í•˜ê²Œ íŒŒì•…í•˜ì—¬ íŒ€ì— ê³µìœ í•˜ëŠ” ì „ë¬¸ê°€ë¡œì„œ, ì£¼ì–´ì§„ ì´ìŠˆì˜ í•µì‹¬ì„ ê°œë°œìê°€ ì¦‰ì‹œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ëª…í™•í•˜ê³  ê°„ê²°í•˜ê²Œ ìš”ì•½í•˜ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ì„ë¬´ì…ë‹ˆë‹¤.

## ì‘ì—… ì ˆì°¨
1.  **[í•µì‹¬ ì •ë³´ ì‹ë³„]** ì´ìŠˆ ë‚´ìš©ì—ì„œ ë‹¤ìŒ 4ê°€ì§€ í•µì‹¬ ì •ë³´ë¥¼ ì°¾ì•„ëƒ…ë‹ˆë‹¤.
    - **(A) ì–´ë–¤ ìƒí™©/í–‰ë™ì—ì„œ (Context/Action)**
    - **(B) ì›ë˜ ê¸°ëŒ€ë˜ëŠ” ê²°ê³¼ëŠ” ë¬´ì—‡ì¸ì§€ (Expected Result)**
    - **(C) ì‹¤ì œ ë°œìƒí•œ ë¬¸ì œ/ì—ëŸ¬ëŠ” ë¬´ì—‡ì¸ì§€ (Actual Problem/Error)**
    - **(D) ê´€ë ¨ëœ ì£¼ìš” ê¸°ìˆ  ìš©ì–´(í•¨ìˆ˜/í´ë˜ìŠ¤/ì—ëŸ¬ëª… ë“±)ëŠ” ë¬´ì—‡ì¸ì§€ (Key Technical Terms)**

2.  **[êµ¬ì¡°í™” ìš”ì•½]** ì‹ë³„ëœ ì •ë³´(A, B, C, D)ë¥¼ ì¡°í•©í•˜ì—¬, ì•„ë˜ 'ìš”ì•½ í…œí”Œë¦¿'ì„ ì°¸ê³ í•˜ì—¬ ê°„ê²°í•œ í•œêµ­ì–´ ìš”ì•½ì„ ìƒì„±í•©ë‹ˆë‹¤.

## ìš”ì•½ í…œí”Œë¦¿
"[A] ì‹œ, [B]ê°€ ê¸°ëŒ€ë˜ë‚˜ ì‹¤ì œë¡œëŠ” [C] ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤. íŠ¹íˆ [D]ì™€ ê´€ë ¨ëœ ë¶€ë¶„ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤."

## ì˜ˆì‹œ
### ì…ë ¥:
- **ì´ìŠˆ ì œëª©**: ì´ë¯¸ì§€ í´ë¦­ ì‹œ ì•± í¬ë˜ì‹œ
- **ì´ìŠˆ ë‚´ìš©**: ìœ ì € í”„ë¡œí•„ í™”ë©´ì—ì„œ í”„ë¡œí•„ ì´ë¯¸ì§€ë¥¼ ëˆ„ë¥´ë©´ ì‚¬ì§„ì„ í¬ê²Œ ë³´ì—¬ì¤˜ì•¼ í•˜ëŠ”ë°, `Fatal Exception: java.lang.NullPointerException`ì´ ë°œìƒí•˜ë©´ì„œ ì•±ì´ ì£½ì–´ë²„ë¦½ë‹ˆë‹¤. `UserAvatar.kt`ì˜ `setAvatar()` í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ `user` ê°ì²´ê°€ nullì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

### ì¶œë ¥:
ì‚¬ìš©ìê°€ í”„ë¡œí•„ í™”ë©´ì—ì„œ ì´ë¯¸ì§€ë¥¼ í´ë¦­í•  ë•Œ ì‚¬ì§„ì´ í™•ëŒ€ë˜ì–´ì•¼ í•˜ì§€ë§Œ, `NullPointerException`ì´ ë°œìƒí•˜ë©° ì•±ì´ ì¤‘ì§€ë©ë‹ˆë‹¤. ì´ ë¬¸ì œëŠ” `UserAvatar.kt`ì˜ `setAvatar()` í•¨ìˆ˜ì—ì„œ user ê°ì²´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ì˜ ì˜¤ë¥˜ë¡œ ì¶”ì •ë©ë‹ˆë‹¤.

---

## ë¶„ì„í•  GitHub ì´ìŠˆ
### ì´ìŠˆ ì œëª©: {issue_title}

### ì´ìŠˆ ë‚´ìš©:
{issue_body}

---

### í•µì‹¬ ìš”ì•½:
"""

    # ===== í”„ë¡¬í”„íŠ¸ ì„¤ì • ê´€ë¦¬ =====

    @staticmethod
    def get_prompt_config() -> Dict[str, Any]:
        """í”„ë¡¬í”„íŠ¸ ê´€ë ¨ ì„¤ì •ê°’ë“¤ì„ ë°˜í™˜"""
        return {
            "readme_summary": {
                "temperature": 0.3,  # ì¼ê´€ì„± ìˆëŠ” ìš”ì•½ì„ ìœ„í•´ ë‚®ì€ ì˜¨ë„
                "retry_count": 3,  # ì¬ì‹œë„ íšŸìˆ˜
                "min_summary_length": 10,  # ìµœì†Œ ìš”ì•½ ê¸¸ì´
            },
            "translation": {
                "temperature": 0.2,  # ì •í™•í•œ ë²ˆì—­ì„ ìœ„í•´ ë‚®ì€ ì˜¨ë„
            },
            "rag": {
                "temperature": 0.4,  # ì°½ì˜ì ì´ë©´ì„œë„ ì •í™•í•œ ë‹µë³€ì„ ìœ„í•œ ì¤‘ê°„ ì˜¨ë„
            },
        }

    # ===== í”„ë¡¬í”„íŠ¸ ê²€ì¦ ë° ìœ í‹¸ë¦¬í‹° =====

    @staticmethod
    def validate_prompt_inputs(**kwargs) -> bool:
        """í”„ë¡¬í”„íŠ¸ ì…ë ¥ê°’ë“¤ì„ ê²€ì¦"""
        for key, value in kwargs.items():
            if not value or (isinstance(value, str) and not value.strip()):
                return False
        return True

    @staticmethod
    def get_fallback_description_templates() -> Dict[str, str]:
        """README ìš”ì•½ ì‹¤íŒ¨ ì‹œ ì‚¬ìš©í•  ê¸°ë³¸ ì„¤ëª… í…œí”Œë¦¿ë“¤"""
        return {
            "api_server": "{name}ì€(ëŠ”) API ì„œë²„ ë˜ëŠ” ë°±ì—”ë“œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.",
            "frontend": "{name}ì€(ëŠ”) í”„ë¡ íŠ¸ì—”ë“œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.",
            "library": "{name}ì€(ëŠ”) ê°œë°œìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤.",
            "tool": "{name}ì€(ëŠ”) ê°œë°œ ë„êµ¬ ë˜ëŠ” ìœ í‹¸ë¦¬í‹°ì…ë‹ˆë‹¤.",
            "default": "{name}ì€(ëŠ”) {owner}ì—ì„œ ê°œë°œí•œ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.",
            "unknown": "{repo_name} ì €ì¥ì†Œì…ë‹ˆë‹¤.",
        }

    @staticmethod
    def get_repository_context_answer_prompt(
        question: str, repo_info: dict, file_contents: dict, history_text: str = ""
    ) -> str:
        """ì €ì¥ì†Œ ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ì§ˆë¬¸ ë‹µë³€ì„ ìœ„í•œ ê°œì„ ëœ í”„ë¡¬í”„íŠ¸"""

        repo_name = repo_info.get("full_name", "Unknown Repository")
        repo_description = repo_info.get("description", "")

        context_parts = []
        context_parts.append("## ì €ì¥ì†Œ ì •ë³´")
        context_parts.append(f"- ì €ì¥ì†Œëª…: {repo_name}")
        if repo_description:
            context_parts.append(f"- ì„¤ëª…: {repo_description}")

        for file_type, content in file_contents.items():
            context_parts.append(f"\n## {file_type} íŒŒì¼ ë‚´ìš©")
            context_parts.append(f"```\n{content}\n```")

        context_text = "\n".join(context_parts)

        return f"""
## ì—­í• 
ë‹¹ì‹ ì€ CodeReviewì˜ ì €ì¥ì†Œ ë¶„ì„ ì „ë¬¸ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ì£¼ì–´ì§„ GitHub ì €ì¥ì†Œ '{repo_name}'ì˜ ëª¨ë“  ê²ƒì„ íŒŒì•…í•˜ê³  ìˆëŠ” ì „ë¬¸ê°€ë¡œì„œ, ì˜¤ì§ ì´ ì €ì¥ì†Œì˜ ì œê³µëœ ì •ë³´ë¡œë§Œ êµ¬ì„±ëœ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì§ˆë¬¸ì— ëŒ€í•´ ê°€ì¥ ì •í™•í•˜ê³  ê¹Šì´ ìˆëŠ” ë‹µë³€ì„ ì œê³µí•˜ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ì„ë¬´ì…ë‹ˆë‹¤.

## ì‘ì—… ì ˆì°¨
1.  **[ì˜ë„ íŒŒì•…]** 'ì‚¬ìš©ì ì§ˆë¬¸'ê³¼ 'ì´ì „ ëŒ€í™”'ë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ë¬´ì—‡ì„ ì•Œê³  ì‹¶ì–´í•˜ëŠ”ì§€ í•µì‹¬ ì˜ë„ë¥¼ íŒŒì•…í•©ë‹ˆë‹¤.
2.  **[ì •ë³´ ì¢…í•© ë° ì—°ê²°]** ì§ˆë¬¸ì— ë‹µí•˜ê¸° ìœ„í•´ ì œê³µëœ ëª¨ë“  ì»¨í…ìŠ¤íŠ¸('ì €ì¥ì†Œ ì •ë³´', 'íŒŒì¼ ë‚´ìš©' ë“±)ë¥¼ ìŠ¤ìº”í•©ë‹ˆë‹¤. íŠ¹íˆ, ì—¬ëŸ¬ íŒŒì¼ì— ê±¸ì¹œ ì •ë³´ë¥¼ **ìœ ê¸°ì ìœ¼ë¡œ ì—°ê²°í•˜ê³  ì¢…í•©**í•˜ì—¬ ë‹µë³€ì˜ ê·¼ê±°ë¥¼ ë§ˆë ¨í•©ë‹ˆë‹¤. (ì˜ˆ: `README.md`ì˜ ì„¤ì • ë°©ë²•ê³¼ `package.json`ì˜ ìŠ¤í¬ë¦½íŠ¸, ê·¸ë¦¬ê³  ì‹¤ì œ ì†ŒìŠ¤ì½”ë“œì˜ `import` êµ¬ë¬¸ì„ ì—°ê²°í•˜ì—¬ ë¶„ì„)
3.  **[ë‹µë³€ ì´ˆì•ˆ ì‘ì„±]** ë¶„ì„ëœ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ, ì•„ë˜ 'ë‹µë³€ ê°€ì´ë“œë¼ì¸'ì— ë”°ë¼ êµ¬ì¡°ì ì´ê³  ëª…í™•í•œ ë‹µë³€ì˜ ì´ˆì•ˆì„ ì‘ì„±í•©ë‹ˆë‹¤.
4.  **[ê·¼ê±° í™•ì¸ ë° ì˜ˆì™¸ ì²˜ë¦¬]** ë‹µë³€ì˜ ëª¨ë“  ë‚´ìš©ì´ ì œê³µëœ ì»¨í…ìŠ¤íŠ¸ì— ê·¼ê±°í•˜ëŠ”ì§€ ì¬í™•ì¸í•©ë‹ˆë‹¤. ë§Œì•½ ì»¨í…ìŠ¤íŠ¸ì— ê´€ë ¨ ì •ë³´ê°€ ì—†ë‹¤ë©´, ì¶”ì¸¡í•˜ì§€ ë§ê³  **"ì œê³µëœ íŒŒì¼ ë‚´ìš©ë§Œìœ¼ë¡œëŠ” í•´ë‹¹ ì§ˆë¬¸ì— ë‹µë³€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."** ë¼ê³  ëª…í™•íˆ ë°í™ë‹ˆë‹¤.

---
{context_text}

---
## ì´ì „ ëŒ€í™”
{history_text if history_text else "ì´ì „ ëŒ€í™” ì—†ìŒ"}

## ì‚¬ìš©ì ì§ˆë¬¸
{question}

## ë‹µë³€ ê°€ì´ë“œë¼ì¸
1.  **ì¢…í•©ì  ë¶„ì„:** ë‹¨í¸ì ì¸ ì •ë³´ ë‚˜ì—´ì´ ì•„ë‹Œ, ì—¬ëŸ¬ íŒŒì¼ì˜ ë‚´ìš©ì„ ìœ ê¸°ì ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ì¢…í•©ì ì¸ ê´€ì ì—ì„œ ë‹µë³€í•˜ì„¸ìš”.
2.  **ì •í™•í•œ ì¸ìš©:** ë‹µë³€ì˜ ê·¼ê±°ê°€ ë˜ëŠ” íŒŒì¼ëª…ê³¼ í•µì‹¬ ì½”ë“œ/ë‚´ìš©ì„ ëª…í™•íˆ ì¸ìš©í•˜ì„¸ìš”. (ì˜ˆ: "`README.md`ì— ë”°ë¥´ë©´...", "`src/utils.js`ì˜ `formatDate` í•¨ìˆ˜ë¥¼ ë³´ë©´...")
3.  **êµ¬ì²´ì ì¸ ì˜ˆì‹œ:** í•„ìš”í•˜ë‹¤ë©´, ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œë¥¼ í¬í•¨í•˜ì—¬ ì‚¬ìš©ìê°€ ì‰½ê²Œ ì´í•´í•˜ê³  ì ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ëª…í•˜ì„¸ìš”.
4.  **ì „ë¬¸ì ì¸ í˜•ì‹:** ë‹µë³€ì€ ì„œë¡ -ë³¸ë¡ -ê²°ë¡  êµ¬ì¡°ë¥¼ ê°–ì¶˜ ëª…í™•í•œ ê¸°ìˆ  ë¬¸ì„œ ìŠ¤íƒ€ì¼ì˜ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì‘ì„±í•˜ê³ , ê¸°ìˆ  ìš©ì–´ëŠ” ì˜ì–´(ì›ì–´)ë¥¼ ë³‘ê¸°(e.g., `dependency`)í•˜ì„¸ìš”.

## ë‹µë³€:
"""


# í¸ì˜ë¥¼ ìœ„í•œ ì „ì—­ ì¸ìŠ¤í„´ìŠ¤
prompts = PromptTemplates()


# í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ„í•œ í•¨ìˆ˜ë“¤ (ê¸°ì¡´ ì½”ë“œì—ì„œ ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡)
def get_code_query_translation_prompt(korean_text: str) -> str:
    """ì½”ë“œ ì§ˆì˜ ë²ˆì—­ í”„ë¡¬í”„íŠ¸ (í•˜ìœ„ í˜¸í™˜ì„±)"""
    return prompts.get_code_query_translation_prompt(korean_text)


def get_code_rag_prompt(context: str, question: str) -> str:
    """ì½”ë“œ RAG í”„ë¡¬í”„íŠ¸ (í•˜ìœ„ í˜¸í™˜ì„±)"""
    return prompts.get_code_rag_prompt(context, question)


def get_readme_summary_prompt(repo_name: str, readme_content: str) -> str:
    """README ìš”ì•½ í”„ë¡¬í”„íŠ¸ (í•˜ìœ„ í˜¸í™˜ì„±)"""
    return prompts.get_readme_summary_prompt(repo_name, readme_content)


def get_issue_to_query_prompt(issue_title: str, issue_body: str) -> str:
    """ì´ìŠˆë¥¼ ì§ˆë¬¸ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í”„ë¡¬í”„íŠ¸ (í•˜ìœ„ í˜¸í™˜ì„±)"""
    return prompts.get_issue_to_query_prompt(issue_title, issue_body)


def get_ai_solution_suggestion_prompt(
    issue_title: str, issue_body: str, related_files: list, code_snippets: list
) -> str:
    """AI í•´ê²° ì œì•ˆ í”„ë¡¬í”„íŠ¸ (í•˜ìœ„ í˜¸í™˜ì„±)"""
    return prompts.get_ai_solution_suggestion_prompt(
        issue_title, issue_body, related_files, code_snippets
    )


def get_issue_summary_prompt(issue_title: str, issue_body: str) -> str:
    """ì´ìŠˆ ìš”ì•½ í”„ë¡¬í”„íŠ¸ (í•˜ìœ„ í˜¸í™˜ì„±)"""
    return prompts.get_issue_summary_prompt(issue_title, issue_body)


def get_repository_context_answer_prompt(
    question: str, repo_info: dict, file_contents: dict
) -> str:
    """ì €ì¥ì†Œ ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ì§ˆë¬¸ ë‹µë³€ í”„ë¡¬í”„íŠ¸ (í•˜ìœ„ í˜¸í™˜ì„±)"""
    return prompts.get_repository_context_answer_prompt(
        question, repo_info, file_contents
    )
